<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                template="/WEB-INF/Templates/generalLayout.xhtml"
                >
    <ui:define name="title">Conference</ui:define>
    <ui:define name="customCSS">
        <link rel="stylesheet" type="text/css" href="styles/events.css" />
        <link rel="stylesheet" type="text/css" href="styles/events_responsive.css" />
    </ui:define>
    <ui:define name="bannerImage">
        <div class="parallax_background parallax-window" data-parallax="scroll" data-image-src="${facesContext.externalContext.requestContextPath}/images/news.jpg" data-speed="0.8"></div>
    </ui:define>
    <ui:define name="banner">
        <div class="home_content_container">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <div class="home_content d-flex flex-row align-items-end justify-content-start">
                            <div class="current_page">Conferences</div>
                            <div class="breadcrumbs ml-auto">
                                <ul>
                                    <li><a href="${facesContext.externalContext.requestContextPath}/index.xhtml">Home</a></li>
                                    <li>Conferences</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </ui:define>
    <ui:define name="content">
        <!-- Conferences -->
        <div class="events">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <c:forEach var="conference" items="#{homeController.getConferenceList()}">
                            <!-- Conference -->
                            <div class="event" id="conference-#{conference.sessionId}">
                                <div class="row row-lg-eq-height">
                                    <div class="col-lg-6 event_col">
                                        <div class="event_image_container">
                                            <div class="background_image">
                                                <img style="width:80%;height:100%" src="#{conference.imageUrl.toString().replace('\\', '/').replace(' ','%20')}"/>
                                            </div>
                                            <div class="date_container">
                                                <a href="#">
                                                    <span class="date_content d-flex flex-column align-items-center justify-content-center">
                                                        <div class="date_day">#{conference.sessionDateTime.day}</div>
                                                        <div class="date_month">#{homeController.formaterForMonth.format(conference.sessionDateTime)}</div>
                                                    </span>
                                                </a>	
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 event_col">
                                        <div class="event_content">
                                            <div class="event_title">#{conference.sessionName}</div>
                                            <div class="event_text">
                                                <p>#{conference.description}</p>
                                            </div>
                                            
                                            <div class="event_speakers">
                                                <h4 class="event_speaker_name">Papers</h4>
                                                
                                                <!-- Event Speaker -->

                                                <c:forEach var="sessionPaper" items="#{conference.sessionPapers}">
                                                    
                                                    
                                                    <div class="event_speaker_content">
                                                        <div class="event_speaker_name">#{sessionPaper.paperId.paperTitle}</div>

                                                        <div class="event_speaker_title">
                                                            <c:set var="i" value="#{0}"></c:set>
                                                            Topics: 
                                                            <c:forEach var="tag" items="#{sessionPaper.paperId.paperTags}">
                                                                #{tag.tagId.name}
                                                                <c:set var="i" value="#{i+1}"></c:set>
                                                                <c:if test="#{i !=sessionPaper.paperId.paperTags.size()}">
                                                                    ,
                                                                </c:if>
                                                            </c:forEach>
                                                        </div>

                                                    </div>
                                                </c:forEach>
                                            </div>

                                        </div>
                                        <div class="event_buttons">
                                            <div class="button event_button event_button_1"><a href="${facesContext.externalContext.requestContextPath}/login.xhtml">Join the Conference</a></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </c:forEach>
                    </div>

                </div>
<!--                <div class="row">
                    <div class="col">
                        <div class="pagination">
                            <ul>
                                <li class="active"><a href="#">01.</a></li>
                                <li><a href="#">02.</a></li>
                                <li><a href="#">03.</a></li>
                            </ul>
                        </div>
                    </div>
                </div>-->
            </div>
        </div>

    </ui:define>
    <ui:define name="customScript">
        <script src="js/events.js"></script>
    </ui:define>
</ui:composition>