<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <h:head>
        <title>Admin Portal | Recover Password</title>
        <link href="${facesContext.externalContext.requestContextPath}/backendResources/plugins/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css"/>
        <link href="${facesContext.externalContext.requestContextPath}/styles/style.css" rel="stylesheet" type="text/css"/>
        <link href="${facesContext.externalContext.requestContextPath}/plugins/icheck-bootstrap/icheck-bootstrap.min.css" rel="stylesheet" type="text/css"/>
        <link rel="${facesContext.externalContext.requestContextPath}/stylesheet" type="text/css" href="plugins/animsition/css/animsition.min.css"/>
        <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css"/>
        <link href="${facesContext.externalContext.requestContextPath}/backendResources/dist/css/adminlte.min.css" rel="stylesheet" type="text/css"/>
         <link rel="stylesheet" type="text/css" href="${facesContext.externalContext.requestContextPath}/styles/bootstrap4/bootstrap.min.css"></link>
         <link href="${facesContext.externalContext.requestContextPath}/styles/style.css" rel="stylesheet" type="text/css"/>
        <script src="${facesContext.externalContext.requestContextPath}/js/jquery-3.2.1.min.js"></script>
    </h:head>
    <h:body  class="hold-transition login-page">
        <div class="login-box">
            <div class="login-logo">
                <a href="${facesContext.externalContext.requestContextPath}/adminlogin.xhtml"><b>Admin</b> Portal </a>
            </div>
            <!-- /.login-logo -->
            <div class="card">
                <div class="card-body login-card-body">
                    <p class="login-box-msg">You are only one step a way from your new password, recover your password now.</p>

                    <h:form a:method="POST" a:accept-charset="utf-8" a:name="loginform" >
                        <div class="input-group mb-3">
                            <h:inputHidden a:name="logintype" value="admin"></h:inputHidden>
                            <h:inputHidden value="#{accountController.user.userName}" a:name="userName"  a:placeholder="New Password" required="required"/>
                            <h:inputSecret class="form-control" value="#{accountController.user.password}" a:name="password"  a:placeholder="New Password" required="required"/>
                            <div class="input-group-append">
                                <div class="input-group-text">
                                    <span class="fas fa-envelope"></span>
                                </div>
                            </div>
                        </div>
                       
                        <div class="row">
                            <div class="col-12">
                                <h:messages errorClass="errorMessage" infoClass="successMessage" showSummary="true"></h:messages>
                            </div>
                            <div class="col-12">
                                <h:commandButton id="btnSubmit" value="Request new password" class="btn btn-info btn-block" action="#{accountController.resetPassword()}" immediate="false"/>
                            </div>
                            <!-- /.col -->
                        </div>

                    </h:form>


                </div>
                <!-- /.login-card-body -->
            </div>
        </div>
        <!-- /.login-box -->
<script src="${facesContext.externalContext.requestContextPath}/styles/bootstrap4/bootstrap.min.js"></script>
        <script src="${facesContext.externalContext.requestContextPath}/backendResources/plugins/bootstrap/js/bootstrap.bundle.min.js" type="text/javascript"></script>
        <script src="${facesContext.externalContext.requestContextPath}/backendResources/dist/js/adminlte.min.js" type="text/javascript"></script>
        <script src="${facesContext.externalContext.requestContextPath}/js/formValidation.js"></script>
    </h:body>
</html> 